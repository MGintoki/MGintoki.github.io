<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>DID可信凭证 | MGintoki</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Abstract 1.Introduction 1.1 what is Verifiable Credential 1.2 Ecosystem Overview 1.3 Use Cases and Requirements 1.4 Conformance   2.Terminology 3.Core Data Model 3.1 Claims 3.2 Credentials 3.3 Pr">
<meta property="og:type" content="article">
<meta property="og:title" content="DID可信凭证">
<meta property="og:url" content="https://mgintoki.github.io/2021/04/27/did/VC%20data%20modal/index.html">
<meta property="og:site_name" content="MGintoki">
<meta property="og:description" content="Abstract 1.Introduction 1.1 what is Verifiable Credential 1.2 Ecosystem Overview 1.3 Use Cases and Requirements 1.4 Conformance   2.Terminology 3.Core Data Model 3.1 Claims 3.2 Credentials 3.3 Pr">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="leanote://file/getImage?fileId=5e1c3b0bab64415ce90029bd">
<meta property="article:published_time" content="2021-04-27T12:34:46.000Z">
<meta property="article:modified_time" content="2021-04-30T04:07:37.458Z">
<meta property="article:author" content="MGintoki">
<meta property="article:tag" content="区块链">
<meta property="article:tag" content="did">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="leanote://file/getImage?fileId=5e1c3b0bab64415ce90029bd">
  
    <link rel="alternate" href="/atom.xml" title="MGintoki" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/images/favicon-32x32.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">MGintoki</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS 订阅"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://mgintoki.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-did/VC data modal" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/04/27/did/VC%20data%20modal/" class="article-date">
  <time class="dt-published" datetime="2021-04-27T12:34:46.000Z" itemprop="datePublished">2021-04-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/">区块链</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      DID可信凭证
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div class="toc">

<!-- toc -->

<ul>
<li><a href="#abstract">Abstract</a></li>
<li><a href="#1-introduction">1.Introduction</a><ul>
<li><a href="#1-1-what-is-verifiable-credential">1.1 what is Verifiable Credential</a></li>
<li><a href="#1-2-ecosystem-overview">1.2 Ecosystem Overview</a></li>
<li><a href="#1-3-use-cases-and-requirements">1.3 Use Cases and Requirements</a></li>
<li><a href="#1-4-conformance">1.4 Conformance</a></li>
</ul>
</li>
<li><a href="#2-terminology">2.Terminology</a></li>
<li><a href="#3-core-data-model">3.Core Data Model</a><ul>
<li><a href="#3-1-claims">3.1 Claims</a></li>
<li><a href="#3-2-credentials">3.2 Credentials</a></li>
<li><a href="#3-3-presentations">3.3 Presentations</a></li>
<li><a href="#3-4-concrete-lifecycle-example">3.4 Concrete Lifecycle Example</a></li>
</ul>
</li>
<li><a href="#4-basic-concepts">4.Basic Concepts</a><ul>
<li><a href="#4-1-context">4.1 Context</a></li>
<li><a href="#4-2-identifiers">4.2 Identifiers</a></li>
<li><a href="#4-3-types">4.3 Types</a></li>
<li><a href="#4-4-credential-subject">4.4 Credential Subject</a></li>
<li><a href="#4-5-issuer">4.5 Issuer</a></li>
<li><a href="#4-6-issuance-date">4.6 Issuance Date</a></li>
<li><a href="#4-7-proofs-signatures">4.7 Proofs（Signatures）</a></li>
<li><a href="#4-8-expiration">4.8 Expiration</a></li>
<li><a href="#4-9-status">4.9 Status</a></li>
<li><a href="#4-10-presentations">4.10 Presentations</a></li>
</ul>
</li>
<li><a href="#5-advanced-concepts">5.Advanced Concepts</a></li>
</ul>
<!-- tocstop -->

</div>
<span id="more"></span>
## Abstract
这份指南提供了一个机制，表述了在web上如何以加密安全验证，保护隐私，机器可读的方式来进行一系列的身份验证。

<h2><span id="1-introduction">1.Introduction</span></h2><p><code>presentation</code> presentation是由verifiable credential取得的数据的特定表现形式。</p>
<h3><span id="1-1-what-is-verifiable-credential">1.1 what is Verifiable Credential</span></h3><p>在物理世界中，一个身份证明可能包括：</p>
<ul>
<li>与身份证明的主题相关的信息。比如我的身份证上的照片和名字。</li>
<li>关于验证机构的信息。比如身份证发行机关公安局。</li>
<li>关于这个证件是什么样类型证件的类型。如身份证、驾驶证等。</li>
<li>验证机构关于身份证明主题的特定属性和信息。比如驾驶证你可以驾驶的车辆类型。</li>
<li>关于如何取得验证的凭证的证明。</li>
<li>该身份证明的约束。如限制过期日期，使用范围等。</li>
</ul>
<p>一个verifiable credential可以展现以上物理证件可以展现的所有信息，并且可以通过数字签名的方式展现来防止篡改。</p>
<p>verifiable credential们的持有者Holder可以生成这些可验证的身份展示并且将这些身份证明的展示交给验证者来证明他们拥有特定特征的证明。</p>
<p>可验证的身份证明和可验证的数据表现可以被迅速传送（在网上）这是物理身份验证无法比拟的。</p>
<p>这份规范试图降低表示数字身份证明的难度，同时遵照一系列的安全原则。</p>
<h3><span id="1-2-ecosystem-overview">1.2 Ecosystem Overview</span></h3><p>以下的几个术语表现了在一个verifiable credentials试用的经济系统中，一些角色的作用以及他们之间的关系。一个角色是抽象的并且可能以多种方式来实现。</p>
<ul>
<li><p>holder holder是一类这样的角色：他们获取一些verifiable credentials（可验证的身份证明）并且以此生成verifiable presentations（可验证呈现）。例如学生，职员，顾客等。</p>
</li>
<li><p>issuer issuer是对于一些主题发表判断声明，并且由判断声明生成verifiable credential们并且讲这些VC传递给一个holder。例如学校，征服，公司等。</p>
</li>
<li><p>subject subject是关于一份声明是关于谁的。一个声明的subject并不一定和他的holder相同，例如我是一个holder，我又一条狗，我要做一个VC，那么狗是这份VC的subject，我是一个holder。</p>
</li>
<li><p>verifier  一个verifier接收VC 或是verifiable presentation用以提供服务给发出VC、VP的holder。</p>
</li>
</ul>
<p><img src="leanote://file/getImage?fileId=5e1c3b0bab64415ce90029bd"></p>
<p>通过图我们可以看到，holder从issuer中取得VC，但是并不需要将所有数据发给verfier，只需要提供一个特定的表示就好（提供一个presentation）。比如说我需要证明自己年满18岁，我从issuer取得一个我年龄大于18岁的证明就好，不需要取得我具体年龄的VC来保证用户数据的安全性。</p>
<h3><span id="1-3-use-cases-and-requirements">1.3 Use Cases and Requirements</span></h3><p>上述定义的角色需要遵守以下的规则</p>
<ul>
<li>issuers需要以防篡改，保护隐私的方式来创建Verifiable credentials</li>
<li>holders 可以从不同的issuers那里取得多份VC然后整合到一个verifiable presentation里。</li>
<li>issuers可以对任何subject开具证明。</li>
<li>verifiable presentations 允许任何的verifier来验证该presentation上来自任何issuer的VC。</li>
<li>holders可以从任何人那里接受VC。</li>
<li>holders可以通过一个user agent与任何issuer以及任何verifier交互。</li>
<li>holder可以分享VP，verifier在验证该证明的时候不需要透露verifiable自己的身份给issuer</li>
<li>holders可以存储VC在任何位置，并且该位置不为issuer所知而且不影响verify过程。</li>
<li>holder可以分享给verifier任意VP，同时这种行为不会影响该VP的真实性，该分享过程也不会透露给issuer。</li>
<li>一个issuer可以验证来自任意的holder的VP，其中VP可以包含来自任意issuer的声明。</li>
<li>verify过程不应该绕过holder直接在issuer和verifier之间进行。</li>
<li>issuer可以对holder选择性暴露的数据进行验证。并且尽量少的透露holder信息。</li>
<li>VC VP应包含尽可能少信息。例如我的年龄大于18岁来代替真是年龄数据。</li>
<li>issuer 调用VC时应区分普通调用请求和加密完整性调用请求。</li>
<li>issuer可以透露调用的原因。</li>
<li>issuer可以提供刷新VC的服务。</li>
</ul>
<h3><span id="1-4-conformance">1.4 Conformance</span></h3><h2><span id="2-terminology">2.Terminology</span></h2><h2><span id="3-core-data-model">3.Core Data Model</span></h2><p>这个部分描述了一个VC的核心数据结构</p>
<h3><span id="3-1-claims">3.1 Claims</span></h3><p>一个声明是一个与一个subject相关的语句。一个subject标识着这一个实体被声明。声明采用subject-property-value关系的形式表达。</p>
<p>关于同一个subject的不同声明可以被融合进一个关系图中</p>
<h3><span id="3-2-credentials">3.2 Credentials</span></h3><p>一个credential是一个多个对同一个subject所做的claim组成的集合。这个集合包含防篡改性质的一系列声明以及用来验证是谁发布了这个VC的加密验证所需的metadata。</p>
<h3><span id="3-3-presentations">3.3 Presentations</span></h3><p>何为verifiable presentation？ 一个人他的某个角色的子集叫做VP，该子集可以实现表达适用于某个指定的环境之下该角色的<code>部分</code>属性。<br>一个VP包含presentation metadata，例如presentation的type，trem of user等。一个VP也包含着多个VC以及这些VC的验证（VC的数字签名）。最后，VP包含着VP自己的数字签名。用来验证这个VP来自某个holder且没有被篡改。</p>
<h3><span id="3-4-concrete-lifecycle-example">3.4 Concrete Lifecycle Example</span></h3><p>在VC Ecosystem中的一个完整的关于credentials和presentations的生命周期通常包括以下4步<br>1.一个或多个VC的签发。<br>2.将这些VC存储到一个credential repository中，比如一个电子钱包。<br>3.讲这些VC组合建一个VP里交给verifiers<br>4.verifiers验证VP。</p>
<h2><span id="4-basic-concepts">4.Basic Concepts</span></h2><h3><span id="4-1-context">4.1 Context</span></h3><p>Context（环境、语境、上下文）用于为两个系统之间的交互定义一个规范。就好比两个人交流，指定美式英语交流，这里的美式英语就是一个context。</p>
<h3><span id="4-2-identifiers">4.2 Identifiers</span></h3><p>标识符是用于标识、区分一个实体的符号。标识符具有ID属性，且ID属性必须是一个URI。DID就是一个URL，URL也是URI。DID和VC之间并没有强制依赖关系。DID可以用于一中标识符来被解析，从而获得有关于VC如subjects，issusers，holders，cryptographic keys相关的信息。</p>
<h3><span id="4-3-types">4.3 Types</span></h3><p><code>type</code>属性用于标识类型信息，一个VC或者VP必须含有<code>type</code>属性，用来实现验证，否则便是不合法的。type就像一个类，不同的类有不同的成员和方法，type与之类似。</p>
<h3><span id="4-4-credential-subject">4.4 Credential Subject</span></h3><p>一个VC中包含了关于一个或多个subject的声明。本篇规范定义了<code>credentialSubject</code>属性用来标识关于多个subject的声明的表述。</p>
<h3><span id="4-5-issuer">4.5 Issuer</span></h3><h3><span id="4-6-issuance-date">4.6 Issuance Date</span></h3><h3><span id="4-7-proofs-signatures">4.7 Proofs（Signatures）</span></h3><h3><span id="4-8-expiration">4.8 Expiration</span></h3><p>标志着这份VC的有效期</p>
<h3><span id="4-9-status">4.9 Status</span></h3><p>标志着这个VC的状态，比如说 suspended 或是 revoked</p>
<h3><span id="4-10-presentations">4.10 Presentations</span></h3><h2><span id="5-advanced-concepts">5.Advanced Concepts</span></h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://mgintoki.github.io/2021/04/27/did/VC%20data%20modal/" data-id="cko41as46000evlxg20qa7d55" data-title="DID可信凭证" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/did/" rel="tag">did</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/" rel="tag">区块链</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2021/04/27/devops/k8s%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">前一篇</strong>
      <div class="article-nav-title">
        
          K8S学习笔记
        
      </div>
    </a>
  
  
    <a href="/2021/04/27/did/DID%20core%20data%20model%20and%20syntaxes/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">后一篇</strong>
      <div class="article-nav-title">DID 模型与语法</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CA/">CA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/">DevOps</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/">区块链</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9D%82%E4%B9%A6/">杂书</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/">架构</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/CA/" style="font-size: 10px;">CA</a> <a href="/tags/DAO/" style="font-size: 12.5px;">DAO</a> <a href="/tags/DevOps/" style="font-size: 15px;">DevOps</a> <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/HyperLedger/" style="font-size: 10px;">HyperLedger</a> <a href="/tags/K8S/" style="font-size: 10px;">K8S</a> <a href="/tags/Prometheus/" style="font-size: 10px;">Prometheus</a> <a href="/tags/did/" style="font-size: 17.5px;">did</a> <a href="/tags/mathchain/" style="font-size: 10px;">mathchain</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 10px;">分布式</a> <a href="/tags/%E5%8A%A0%E5%AF%86/" style="font-size: 10px;">加密</a> <a href="/tags/%E5%8A%A0%E5%AF%86%E8%B5%84%E4%BA%A7/" style="font-size: 10px;">加密资产</a> <a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/" style="font-size: 20px;">区块链</a> <a href="/tags/%E5%AE%B9%E5%99%A8/" style="font-size: 10px;">容器</a> <a href="/tags/%E6%9D%82%E4%B9%A6/" style="font-size: 10px;">杂书</a> <a href="/tags/%E6%9E%B6%E6%9E%84/" style="font-size: 12.5px;">架构</a> <a href="/tags/%E7%9B%91%E6%8E%A7/" style="font-size: 10px;">监控</a> <a href="/tags/%E7%BD%91%E5%85%B3/" style="font-size: 10px;">网关</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 10px;">计算机网络</a> <a href="/tags/%E8%AF%81%E4%B9%A6/" style="font-size: 10px;">证书</a> <a href="/tags/%E9%93%BE%E7%A0%81/" style="font-size: 10px;">链码</a> <a href="/tags/%E9%9B%86%E7%BE%A4/" style="font-size: 10px;">集群</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/04/29/architecture/%E6%9E%B6%E6%9E%84%E4%BF%AE%E7%82%BC%E4%B9%8B%E9%81%93/">《架构修炼之道-亿级网关...》阅读笔记</a>
          </li>
        
          <li>
            <a href="/2021/04/29/CA/PKI-CA/">PKI/CA与数字证书技术大全</a>
          </li>
        
          <li>
            <a href="/2021/04/29/network/%E5%9B%BE%E8%A7%A3http/">图解http阅读笔记</a>
          </li>
        
          <li>
            <a href="/2021/04/28/hexo/config/">博客配置</a>
          </li>
        
          <li>
            <a href="/2021/04/27/life/%E6%88%90%E4%B8%BA%E6%9E%81%E5%B0%91%E6%95%B0/">《成为极少数》阅读笔记</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 MGintoki<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>